<!doctype html>
<html lang="en">
<head>
    <meta charset="shift-jis" />

    <title>The landscape of OpenPOWER from software guy | by Miyamoto Kazuyuki @NEC</title>

    <meta name="description" content="What is a good purpose for write code running on OpenPOWER?" />
    <meta name="author" content="Miyamoto Kazuyuki" />
    <!--
    <link rel="stylesheet" href="extras/highlight/styles/github.css" />
    <link rel="stylesheet" href="examples/markdown/css/markdown-slides.css" />
-->
        <link rel="stylesheet" href="js/mermaid.forest.css" />
        <link rel="stylesheet" href="js/markdown-slides.css" />
<!--
    <link href="examples/markdown/css/devopsy.css" rel="stylesheet" />
    <link href="examples/markdown/css/effects.css" rel="stylesheet" />
-->
</head>

<body class="impress-not-supported">

<div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>

<div id="impress" data-transition-duration="1000">

<div id="Get_started" class="step slide markdown" data-rel-x="1200" data-rel-y="0">

## NEC の OpenPOWER への取り組み

##### 基盤ソフト屋から見える OpenPOWER 界隈の風景

-----

## working for HA clustering software

EXPRESSCLUSTER ( CLUSTERPRO 1996~ )

-----

# Computer Cluster

- HPC
  - VAXcluster VMScluster
  - Beowulf, Oscar, MPI, SCore
- HA
  - Tandem Himaraya
  - IBM S/390 Parallel Sysplex

-----

# HA Cluster

- Lord Balance
  - ipvsadm, lvs

- Failover
  - Hot standby
    - Stratus everRun, - VMware FT
  - Cold standby
    - Micro Focus   PlateSpin
  - **Warm standby**

-----

## HA Cluster Software for commercial
- UNIX
  - IBM     PowerHA (HACMP)
  - HP      Serviceguard
  - Oracle  Solaris Cluster
- IA
  - Veritas Cluster Server
  - Microsoft WSFC
  - SIOS  LifeKeeper
  - NEC   CLUSTERRPO

-----

## Configuration types of HA Cluster

![Shared disk type](https://jpn.nec.com/clusterpro/clp/img/function_6.png)

-----

## Configuration types of HA Cluster

![block device replication type](https://jpn.nec.com/clusterpro/clp/img/function_7.png)

-----

## Configuration types of HA Cluster

![block device replication type](https://jpn.nec.com/clusterpro/clp/img/function_10.png)

<!--
</div>
<div class="step slide" data-rel-x="0" data-rel-y="900" data-rotate="10">
        <h2> Configuration types of CLUSTERRPO </h2>
        <div class="mermaid">
                graph TD
                subgraph Data Mirror
                        subgraph Source
                                Node-C --- MD-C((HDD-C))
                        end
                        subgraph Target
                                Node-D --- MD-D((HDD-D))
                        end
                end

                subgraph Shared Disk
                        Node-A --- SD((Shared-Disk))
                        Node-B --- SD
                end
        </div>
</div>
<div class="step slide" data-rel-x="0" data-rel-y="900" data-rotate="20">
        <h2> Configuration types of CLUSTERRPO </h2>
        <div class="mermaid">
                graph TD
                subgraph Hybrid
                        subgraph Production Site
                                Node-E --- HD-1((Shared Disk))
                                Node-F --- HD-1((Shared Disk))
                        end
                        subgraph DR Site
                                Node-G --- HD-2((Shared Disk))
                        end
                end
        </div>
        <font size="3">powered by mermaid.js</font>
</div>
<div class="step slide markdown" data-rel-x="0" data-rel-y="900">
-->

-----

## How I involved with **POWER**

Around **2007-2008**, platform expansion movement upon codebase of CLUSTERPRO for Linux

-----

#### HP

Existing MC/Service Guard

- con : [foo hoge bar](まじでやるの?)

-----

#### Sun (Oracle)

Existing Sun Cluster

- pro : 政治的な問題が無い。[foo hoge bar](SIに要認定技術者で複雑)
- con : Machine neck for sparc dev
- pro : 2008.05  OpenSolaris initial release
- con : 2010.08.13 「OpenSolais is officially now dead.」事件

resl : CLUSTERPRO X for Solaris (x86)
-----

#### IBM

Existing PowerHA

- pro: 政治的な問題が無い
- pro: IBM の協力があり machine neck も無かった

resl : CLUSTERPRO for *Linux on POWER*

  - (CLUSTERPRO for *Linux on z*)

-----

## How I involved with **OpenPOWER**

### ExpEther started 2012

![ExpEther](http://www.expether.org/images/ee_basic.png?crc=309300388)

-----

# Problem on ExpEther guy on 2014

SPoF

![SPoF](http://expether.org/images/multihost.png?crc=4252991000)

</div>
<div class="step slide" data-rel-x="0" data-rel-y="900" data-rotate="20">
        <h2> solution </h2>
        <div class="mermaid">
                graph TD
                subgraph CLP
                        EEM1(EEM<br>active)
                end
                subgraph CLP
                        EEM2(EEM<br>standby)
                end
                subgraph Xbox
                        NVMe
                end
                SW[40G SW]
                style EEM2 fill:#ccf,stroke:#f66,stroke-width:2px,stroke-dasharray: 5, 5

                EEM1 --- SW
                EEM2 --- SW
                Other[Other Servers] --- SW
                SW --- NVMe
        </div>
</div>
<div class="step slide" data-rel-x="0" data-rel-y="900" data-rotate="20">
        <h2> solution </h2>
        <div class="mermaid">
                graph TD
                subgraph CLP
                        EEM1(EEM<br>active)
                end
                subgraph CLP
                        EEM2(EEM<br>standby)
                end
                subgraph Xbox
                        NVMe
                end
                %%Other[Other Servers]
                SW1[40G SW]
                SW2[40G SW]

                style EEM2 fill:#ccf,stroke:#f66,stroke-width:2px,stroke-dasharray: 5, 5

                EEM1 --- SW1
                EEM2 --- SW1
                EEM1 --- SW2
                EEM2 --- SW2
                %%Other --- SW1
                %%Other --- SW2
                SW1 --- NVMe
                SW2 --- NVMe
        </div>
        <font size="3">powered by mermaid.js</font>
</div>

<div class="step slide" data-rel-x="0" data-rel-y="900" data-rotate="20">
        <h2> Approach by HA Cluster</h2>
        <ul>
                <li> NVMe SSD in Xbox as Shared Storage
                <li> GPU in Xbox for use of "GPU VM w/ HA"
        </ul>
        <div class="mermaid">
                graph TD

                subgraph Xbox
                        NVM((NVMe SSD))
                        GPU1(GPU Card)
                        GPU2(GPU Card)
                end

                Node-E --- NVM
                Node-F --- NVM
                Node-G --- GPU1
                %% Node-G --- GPU2
                Node-H --- GPU1
                %% Node-H --- GPU2
        </div>
</div>
<div class="step slide markdown" data-rel-x="1200" data-rel-y="0">

# Nats in the box
- GPU, NVLink
- CAPI
- PCI Gen4

:

- wide band / low latency
- more CPU cores

-----

# OpenPOWER in a nutshell
- HPC
- AI

-----

# 今捨てられているモノ
- Personal
- General business (System of Record ?)
  - Traditional enterprise (DBS, APS, FS)
    - *SAP HANA* might be the exception

- Linux 以外の選択肢

- IA とのコスト勝負?

-----

# 今拾われているモノ
- performance, scalability だけが意味のある領域
  - Learning phase of DL
  - (Erasure coding ?)
- Google が OP を使っているとはいえ、Gを客とした商売が成立する余地は少ないように思われやすい
  - 「HW, OS, APP, Algo 必要なものは自家発電しそう」

-----

# Reality

## The world of Peripheral Device guys

## The world of HPC

-----

## An idea came up along w/ new movement

GPU computing power as a service

- amazon, MS, IBM, Oracle, Fujitsu ...

GPU, an asset to be protected

- Failover of GPU in Xbox
  - GPU Hotplug is the matter
    - Driver support
    - eGPU

-----

## Funny some, where is ?

### Finding playground in the areas of

HPC, GPU computing

小 arm、中 xeon、大 POWER ???

OPと関わる楽しいナニカ ???

else ???

</div>
<div id="overview" class="step" data-x="5000" data-y="4000" data-scale="10" style="pointer-events: none;" data-rotate="5">
</div>
</div>
<div id="impress-toolbar"></div>
<div id="impress-help"></div>

<!--
<script type="text/javascript" src="extras/highlight/highlight.pack.js"></script>
-->
<script type="text/javascript" src="js/markdown.js"></script>
<script type="text/javascript" src="js/mermaid.min.js"></script>
<script type="text/javascript" src="js/impress.js"></script>
<script>impress().init();</script>
</body>
</html>
